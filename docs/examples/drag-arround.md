---
order: 3
group:
  title: 示例
  order: 5
title: 拖拽
description: ''
keywords: []
---

## 原生

该示例依赖于浏览器的拖放功能，没有太多自定义逻辑。

拖动方框时，我们会通过从 `render()` 返回`空值`来移除其原始 DOM 节点，并让浏览器绘制拖动预览。释放方框时，我们会在新坐标处绘制方框。如果试图将方框拖到容器外，浏览器会将其返回动画化。

虽然这种方法适用于琐碎的情况，但在拖放时会闪烁。出现这种情况的原因是，在我们有机会使拖动的项目可见之前，浏览器会删除拖动预览。如果不隐藏原始项目而将其变暗，这可能不是问题，但如果不这样做，原始项目就会清晰可见。

如果我们想添加自定义逻辑，例如捕捉到网格或边界检查，我们只能在拖放时进行。一旦浏览器绘制了拖动预览，我们就无法控制拖动预览会发生什么。查看自定义呈现示例
如果你想用更多的控制来换取更多的工作，请查看自定义渲染示例。

[示例](https://pkmz94m7yq.csb.app/)

## 自定义拖拽层

浏览器 API 无法在拖动开始后更改拖动预览或拖动行为。jQuery UI 等库从头开始实现了拖放功能，但 react-dnd 目前只支持浏览器拖放 "后台"，因此我们不得不接受其局限性。不过，如果我们向浏览器提供一张空图片作为拖放预览，就可以对行为进行大量自定义。该库提供了一个 DragLayer，您可以用它在应用程序顶部实现一个固定层，并在其中绘制自定义的拖放预览组件。请注意，我们可以根据需要在拖动层上绘制完全不同的组件。这不仅仅是一张截图。

使用这种方法，当拖动到容器外时，我们将错过默认的 "返回 "动画。不过，我们可以非常灵活地自定义拖动反馈，而且不会出现闪烁。

[示例](https://k9z53q97yv.csb.app/)
